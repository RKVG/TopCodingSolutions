<div style="margin-top:0px;margin-bottom:5px;font-size:18px;font-weight:bold;text-decoration:underline">Problem:</div>
<a href="http://community.topcoder.com/stat?c=problem_statement&amp;pm=1704" target="_blank">SRM 144 DIV 1 - 300</a>


<div style="margin-top:20px;margin-bottom:5px;font-size:18px;font-weight:bold;text-decoration:underline">Overview:</div>
You are asked to decode a string. The original String is in binary format. The encoded string is formed by adding both neighboring digits to the current digit.


<div style="margin-top:20px;margin-bottom:5px;font-size:18px;font-weight:bold;text-decoration:underline">Java Source:</div>
<pre style="background:#000000;border:1px dashed #cccccc;color:#fdbb30;font-family:Courier New,Courier,monospace;font-size:14px;height:auto;line-height:20px;overflow:auto;padding:20px;text-align:left;width:100%">
01: /*
02: Source: TopCoder
03: Single Round Match: 144
04: Divison: 1
05: Level: 1
06: Points: 300
07: Description: http://community.topcoder.com/stat?c=problem_statement&amp;pm=1704
08:  */
09:  
10:   public class BinaryCode {  
11:     
12:     public String[] decode(String message) {  
13:     
14:       // Create an array of Strings to return.  
15:       String[] ret = new String[2];  
16:     
17:       // Populate the return array with the results of decoding.  
18:       // First when we assume that the first digit was a 0.  
19:       // Then when we assume the first digit was a 1.  
20:       ret[0] = decode(message.toCharArray(), '0');  
21:       ret[1] = decode(message.toCharArray(), '1');  
22:     
23:       return ret;  
24:     }  
25:     
26:     /*  
27:     Decodes the string.  
28:     The string is encoded by adding it's two neighbors to it's values.  
29:     So:  
30:     1001001 becomes 1111111  
31:     In some cases the message may decode to two different values depending on  
32:     if pos1 = 0 or 1.  
33:     In other cases a value of 0 or 1 may lead to a message that cannot be decoded.  
34:     i.e. would require a a digit other than 0 or 1 to make the sums add up.  
35:      */  
36:     private static String decode(char[] message, char pos1) {  
37:     
38:       /*  
39:       Create a return array that is 1 element larger than the message. This extra  
40:       space will make it easier to compute the last element, and will ultimately  
41:       get chopped off before returning anyway.  
42:        */  
43:       char[] ret = new char[message.length+1];  
44:     
45:       // Set the first position to either a 0 or 1 depending on the parameter.  
46:       ret[0] = pos1;  
47:     
48:       // Loop through the return array starting at position 1.  
49:       for (int i=1; i&lt;ret.length; i++) {  
50:         Integer a = Integer.parseInt("" + message[i-1]);  
51:         Integer b = Integer.parseInt("" + ret[i-1]);  
52:     
53:         // This protects from going in front of the beginning of the array.  
54:         Integer c = (i == 1) ? 0 : Integer.parseInt("" + ret[i-2]);  
55:     
56:         /*  
57:         The current value in the return array will equal:  
58:         (one position back in the message) - (one position back in the return array) -  
59:         (2 positions back in the return array)  
60:         Write this out on paper until you're convinced that it works.  
61:          */  
62:         int val = a - b - c;  
63:     
64:         // If we arrive at a non-binary digit, then the encoding was impossible given the value of pos1.  
65:         if ((val &gt; 1) || (val &lt; 0)) {  
66:           return "NONE";  
67:         }  
68:     
69:         // Convert the number to a character.  
70:         ret[i] = (char) (val + '0');  
71:       }  
72:     
73:       // Convert the array to a String, and chop off the last place.  
74:       return new String(ret).substring(0,ret.length-1);  
75:     }  
76:   } 
</pre>

<div style="margin-top:20px;margin-bottom:5px;font-size:18px;font-weight:bold;text-decoration:underline">Notes:</div>
The toughest part of this problem is determining how to calculate the value at the current location of the return String, line 62. I suggest you write this out on paper to see how it works. For example:

<table>
<tbody>
<tr>
<td>message:</td>
<td>1</td>
<td>2</td>
<td>3</td>
<td>2</td>
</tr>
<tr>
<td>return:</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>?</td>
</tr>
</tbody>
</table>

<p>The value of the ? will be one space back in the message array (3) - one space back in the return array (1) - two spaces back in the return array (1). 3 - 1 - 1 = 1. These values are calculated on lines 50, 51, and 54.</p>
<p>If you insert 1 for the ?, you'll see that the encoding/decoding of the message is correct up to that point.</p>
<p>The next position in the return array must be 0, since the 2 is already the total the 1 (at the ? location) and 1 (one space before the ?).</p>

<div style="margin-top:50px;text-align:center;font-size:14px">
<p><i>Thank you</i> for taking the time to read this solution.  I welcome any feedback you may have.</p>
<p>Please post any questions or comments <a href="http://blog.topcodingsolutions.net/2014/06/srm-144-div-1-300-points-srm-144-div-2.html" rel="nofollow" target="_blank">here</a>.</p>
<p>For this, and other TopCoder solutions, please visit <a href="http://www.topcodingsolutions.net" target="_blank">www.topcodingsolutions.net</a>.</p>
</div>
